#! /usr/bin/env bash

######################################################################
# @author      : Linus Fernandes (linusfernandes@gmail.com)
# @file        : mvpackagedirs
# @created     : Friday May 03, 2019 08:13:05 IST
# @copyright   : Copyright (c) Linus Fernandes
# @description : Creates package folders and moves java source to these directories. Behaviour unspecified if first line in file does not have package directive. 
######################################################################
package=""
dir=""
for file in $(find . -name "*.java" -type f -maxdepth 1 ! -path "*.git*" ! -path .)
  do
    package=$(head -1 $file | grep 'package' | awk '{print $2}' | sed 's/;//')
  dir=$(mkpackagedirs $package)
  mv $file $dir
done
exit 0


