#!/usr/bin/env bash
# Here's one that uploads a local script onto the live demo at shellcheck.net
shellcheck.net()
{
  for i in "$@"
  do
    if test -f "$i";
    then
      if test -x "$i" || [ "${i: -3}" == ".sh" ];
      then
        (curl --data-urlencode "script@$i" -sS 'https://www.shellcheck.net/shellcheck.php' | jq .) > "$i.out"
        filesize="$(stat -c%s "${i}.out")"
        if test "$filesize" -lt 4;then 
          rm -f "${i}.out"
        fi
      fi
    fi
  done
}
shellcheck.net "$@"
